FROM ansibleplaybookbundle/apb-base:canary

LABEL "com.redhat.apb.spec"=\
"LS0tCgp2ZXJzaW9uOiAxLjAKbmFtZTogbXlzcWwtYXBiCmRlc2NyaXB0aW9uOiAiU29mdHdhcmUg\
Q29sbGVjdGlvbnMgTXlTUUwgQVBCIgpiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0aW9uYWwKdGFn\
czoKICAtIGRhdGFiYXNlCiAgLSBteXNxbAptZXRhZGF0YToKICBkaXNwbGF5TmFtZTogIk15U1FM\
IChBUEIpIgogIGxvbmdEZXNjcmlwdGlvbjogIkFuIEFuc2libGUgUGxheWJvb2sgQnVuZGxlIChB\
UEIpIHRoYXQgZGVwbG95cyBNeVNRTCIKICBjb25zb2xlLm9wZW5zaGlmdC5pby9pY29uQ2xhc3M6\
IGljb24tbXlzcWwtZGF0YWJhc2UKICBkb2N1bWVudGF0aW9uVXJsOiAiaHR0cHM6Ly9naXRodWIu\
Y29tL3NjbG9yZy9teXNxbC1jb250YWluZXIvIgogIGRlcGVuZGVuY2llczoKICAgIC0gJ3JlZ2lz\
dHJ5LmFjY2Vzcy5yZWRoYXQuY29tL3Joc2NsL215c3FsLTU2LXJoZWw3JwogICAgLSAncmVnaXN0\
cnkuYWNjZXNzLnJlZGhhdC5jb20vcmhzY2wvbXlzcWwtNTctcmhlbDcnCiAgcHJvdmlkZXJEaXNw\
bGF5TmFtZTogIlJlZCBIYXQsIEluYy4iCnBsYW5zOgogIC0gbmFtZTogZGV2CiAgICBkZXNjcmlw\
dGlvbjogQSBNeVNRTCBzZXJ2ZXIgd2l0aCBlcGhlbWVyYWwgc3RvcmFnZQogICAgZnJlZTogdHJ1\
ZQogICAgZGVmYXVsdDogdHJ1ZQogICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiBEZXZl\
bG9wbWVudAogICAgICBsb25nRGVzY3JpcHRpb246IFRoaXMgcGxhbiBwcm92aWRlcyBhIHNpbmds\
ZSBub24tSEEgTXlTUUwgc2VydmVyIHdpdGhvdXQgcGVyc2lzdGVudCBzdG9yYWdlCiAgICAgIGNv\
c3Q6ICQwLjAwCiAgICB1cGRhdGVzX3RvOgogICAgICAtIHByb2QKICAgIHBhcmFtZXRlcnM6CiAg\
ICAgIC0gbmFtZTogc2VydmljZV9uYW1lCiAgICAgICAgZGVzY3JpcHRpb246IFRoZSBuYW1lIG9m\
IHRoZSBzZXJ2aWNlLiBVc2VkIHRvIG5hbWUgYW5kIGxhYmVsIHJlc291cmNlcwogICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6IG15c3FsCiAgICAgICAgcGF0dGVybjogIl5bYS16\
QS1aMC05XStbYS16QS1aMC05LV0qW2EtekEtWjAtOV0rJCIKICAgICAgICByZXF1aXJlZDogdHJ1\
ZQogICAgICAtIG5hbWU6IG15c3FsX3ZlcnNpb24KICAgICAgICBkZXNjcmlwdGlvbjogVmVyc2lv\
biBvZiBNeVNRTCB0byBkZXBsb3kKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZW51bTogWyI1\
LjYiLCAiNS43Il0KICAgICAgICBkZWZhdWx0OiAiNS43IgogICAgICAgIHJlcXVpcmVkOiB0cnVl\
CiAgICAgICAgdXBkYXRhYmxlOiB0cnVlCiAgICAgIC0gbmFtZTogbXlzcWxfZGF0YWJhc2UKICAg\
ICAgICBkZXNjcmlwdGlvbjogVGhlIG5hbWUgb2YgdGhlIE15U1FMIGRhdGFiYXNlCiAgICAgICAg\
dHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogZGV2ZWwKICAgICAgICBwYXR0ZXJuOiAiXlth\
LXpBLVowLTlfXSpbYS16QS1aX10rW2EtekEtWjAtOV9dKiQiCiAgICAgICAgcmVxdWlyZWQ6IHRy\
dWUKICAgICAgLSBuYW1lOiBteXNxbF91c2VyCiAgICAgICAgZGVzY3JpcHRpb246IFVzZXJuYW1l\
IHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbm5lY3QgdG8gTXlTUUwKICAgICAgICB0eXBlOiBzdHJp\
bmcKICAgICAgICBkZWZhdWx0OiBkZXZlbAogICAgICAgIHBhdHRlcm46ICJeW2EtekEtWjAtOV9d\
KlthLXpBLVpfXStbYS16QS1aMC05X10qJCIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAt\
IG5hbWU6IG15c3FsX3Bhc3N3b3JkCiAgICAgICAgZGVzY3JpcHRpb246IFBhc3N3b3JkIHRvIGNv\
bm5lY3QgdG8gTXlTUUwgKGdlbmVyYXRlZCBpZiBibGFuaykKICAgICAgICB0eXBlOiBzdHJpbmcK\
ICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIGRpc3BsYXlfdHlwZTogcGFzc3dvcmQKICAt\
IG5hbWU6IHByb2QKICAgIGRlc2NyaXB0aW9uOiBBIE15U1FMIHNlcnZlciB3aXRoIHBlcnNpc3Rl\
bnQgc3RvcmFnZQogICAgZnJlZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAgICBkaXNwbGF5TmFt\
ZTogUHJvZHVjdGlvbgogICAgICBsb25nRGVzY3JpcHRpb246IFRoaXMgcGxhbiBwcm92aWRlcyBh\
IHNpbmdsZSBub24tSEEgTXlTUUwgc2VydmVyIHdpdGggMTAgR2lCIG9mIHBlcnNpc3RlbnQgc3Rv\
cmFnZQogICAgICBjb3N0OiAkNS45OSBtb250aGx5CiAgICBwYXJhbWV0ZXJzOgogICAgICAtIG5h\
bWU6IHNlcnZpY2VfbmFtZQogICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgbmFtZSBvZiB0aGUgc2Vy\
dmljZS4gVXNlZCB0byBuYW1lIGFuZCBsYWJlbCByZXNvdXJjZXMKICAgICAgICB0eXBlOiBzdHJp\
bmcKICAgICAgICBkZWZhdWx0OiBteXNxbAogICAgICAgIHBhdHRlcm46ICJeW2EtekEtWjAtOV0r\
W2EtekEtWjAtOS1dKlthLXpBLVowLTldKyQiCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAg\
LSBuYW1lOiBteXNxbF92ZXJzaW9uCiAgICAgICAgZGVzY3JpcHRpb246IFZlcnNpb24gb2YgTXlT\
UUwgdG8gZGVwbG95CiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGVudW06IFsiNS42IiwgIjUu\
NyJdCiAgICAgICAgZGVmYXVsdDogIjUuNyIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAg\
IHVwZGF0YWJsZTogdHJ1ZQogICAgICAtIG5hbWU6IG15c3FsX2RhdGFiYXNlCiAgICAgICAgZGVz\
Y3JpcHRpb246IFRoZSBuYW1lIG9mIHRoZSBNeVNRTCBkYXRhYmFzZQogICAgICAgIHR5cGU6IHN0\
cmluZwogICAgICAgIGRlZmF1bHQ6IGRldmVsCiAgICAgICAgcGF0dGVybjogIl5bYS16QS1aMC05\
X10qW2EtekEtWl9dK1thLXpBLVowLTlfXSokIgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAg\
IC0gbmFtZTogbXlzcWxfdXNlcgogICAgICAgIGRlc2NyaXB0aW9uOiBVc2VybmFtZSB0aGF0IHdp\
bGwgYmUgdXNlZCB0byBjb25uZWN0IHRvIE15U1FMCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGVmYXVsdDogZGV2ZWwKICAgICAgICBwYXR0ZXJuOiAiXlthLXpBLVowLTlfXSpbYS16QS1a\
X10rW2EtekEtWjAtOV9dKiQiCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgLSBuYW1lOiBt\
eXNxbF9wYXNzd29yZAogICAgICAgIGRlc2NyaXB0aW9uOiBQYXNzd29yZCB0byBjb25uZWN0IHRv\
IE15U1FMIChnZW5lcmF0ZWQgaWYgYmxhbmspCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAg\
cmVxdWlyZWQ6IHRydWUKICAgICAgICBkaXNwbGF5X3R5cGU6IHBhc3N3b3JkCiAgICAgIC0gbmFt\
ZTogdm9sdW1lX3NpemUKICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZGVmYXVsdDogJzFHaScK\
ICAgICAgICBlbnVtOiBbJzFHaScsICc1R2knLCAnMTBHaSddCiAgICAgICAgdGl0bGU6IE15U1FM\
IFZvbHVtZSBTaXplCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIHVwZGF0ZXNfdG86CiAgICAg\
IC0gZGV2Cg=="


COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles

USER apb
