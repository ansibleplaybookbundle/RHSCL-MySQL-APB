FROM ansibleplaybookbundle/apb-base

LABEL "com.redhat.apb.spec"=\
"LS0tCiMjIFNoYXJlZCBwYXJhbWV0ZXJzCl9wYXJhbXM6ICZfcGFyYW1zCiAgLSBuYW1lOiBzZXJ2\
aWNlX25hbWUKICAgIGRlc2NyaXB0aW9uOiBUaGUgbmFtZSBvZiB0aGUgc2VydmljZS4gVXNlZCB0\
byBuYW1lIGFuZCBsYWJlbCByZXNvdXJjZXMKICAgIHR5cGU6IHN0cmluZwogICAgZGVmYXVsdDog\
bXlzcWwKICAgIHJlcXVpcmVkOiB0cnVlCiAgLSBuYW1lOiBteXNxbF92ZXJzaW9uCiAgICBkZXNj\
cmlwdGlvbjogVmVyc2lvbiBvZiBNeVNRTCB0byBkZXBsb3kKICAgIHR5cGU6IGVudW0KICAgIGVu\
dW06IFsiNS42IiwgIjUuNyJdCiAgICBkZWZhdWx0OiAiNS43IgogICAgcmVxdWlyZWQ6IHRydWUK\
ICAtIG5hbWU6IG15c3FsX2RhdGFiYXNlCiAgICBkZXNjcmlwdGlvbjogVGhlIG5hbWUgb2YgdGhl\
IE15U1FMIGRhdGFiYXNlCiAgICB0eXBlOiBzdHJpbmcKICAgIGRlZmF1bHQ6IGRldmVsCiAgICBy\
ZXF1aXJlZDogdHJ1ZQogIC0gbmFtZTogbXlzcWxfdXNlcgogICAgZGVzY3JpcHRpb246IFVzZXJu\
YW1lIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbm5lY3QgdG8gTXlTUUwKICAgIHR5cGU6IHN0cmlu\
ZwogICAgZGVmYXVsdDogZGV2ZWwKICAgIHJlcXVpcmVkOiB0cnVlCiAgLSBuYW1lOiBteXNxbF9w\
YXNzd29yZAogICAgZGVzY3JpcHRpb246IFBhc3N3b3JkIHRvIGNvbm5lY3QgdG8gTXlTUUwgKGdl\
bmVyYXRlZCBpZiBibGFuaykKICAgIHR5cGU6IHN0cmluZwogICAgcmVxdWlyZWQ6IGZhbHNlCgp2\
ZXJzaW9uOiAxLjAKbmFtZTogcmhzY2wtbXlzcWwtYXBiCmRlc2NyaXB0aW9uOiAiU29mdHdhcmUg\
Q29sbGVjdGlvbnMgTXlTUUwgQVBCIgpiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0aW9uYWwKdGFn\
czoKICAtIGRhdGFiYXNlcwogIC0gbXlzcWwKbWV0YWRhdGE6CiAgZGlzcGxheU5hbWU6ICJNeVNR\
TCAoQVBCKSIKICBsb25nRGVzY3JpcHRpb246ICJBbiBBbnNpYmxlIFBsYXlib29rIEJ1bmRsZSAo\
QVBCKSB0aGF0IGRlcGxveXMgTXlTUUwiCiAgY29uc29sZS5vcGVuc2hpZnQuaW8vaWNvbkNsYXNz\
OiBpY29uLW15c3FsLWRhdGFiYXNlCiAgZG9jdW1lbnRhdGlvblVybDogImh0dHBzOi8vZ2l0aHVi\
LmNvbS9zY2xvcmcvbXlzcWwtY29udGFpbmVyLyIKICBkZXBlbmRlbmNpZXM6IFsncmhzY2wvbXlz\
cWwtNTctcmhlbDcnXQogIHByb3ZpZGVyRGlzcGxheU5hbWU6ICJSZWQgSGF0LCBJbmMuIgpwbGFu\
czoKICAtIG5hbWU6IGRldgogICAgZGVzY3JpcHRpb246IEEgTXlTUUwgc2VydmVyIHdpdGggZXBo\
ZW1lcmFsIHN0b3JhZ2UKICAgIGZyZWU6IHRydWUKICAgIGRlZmF1bHQ6IHRydWUKICAgIG1ldGFk\
YXRhOgogICAgICBkaXNwbGF5TmFtZTogRGV2ZWxvcG1lbnQKICAgICAgbG9uZ0Rlc2NyaXB0aW9u\
OiBUaGlzIHBsYW4gcHJvdmlkZXMgYSBzaW5nbGUgbm9uLUhBIE15U1FMIHNlcnZlciB3aXRob3V0\
IHBlcnNpc3RlbnQgc3RvcmFnZQogICAgICBjb3N0OiAkMC4wMAogICAgcGFyYW1ldGVyczogKl9w\
YXJhbXMKICAtIG5hbWU6IHByb2QKICAgIGRlc2NyaXB0aW9uOiBBIE15U1FMIHNlcnZlciB3aXRo\
IHBlcnNpc3RlbnQgc3RvcmFnZQogICAgZnJlZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAgICBk\
aXNwbGF5TmFtZTogUHJvZHVjdGlvbgogICAgICBsb25nRGVzY3JpcHRpb246IFRoaXMgcGxhbiBw\
cm92aWRlcyBhIHNpbmdsZSBub24tSEEgTXlTUUwgc2VydmVyIHdpdGggMTAgR2lCIG9mIHBlcnNp\
c3RlbnQgc3RvcmFnZQogICAgICBjb3N0OiAkNS45OSBtb250aGx5CiAgICBwYXJhbWV0ZXJzOiAq\
X3BhcmFtcwo="


COPY playbooks /opt/apb/actions
COPY roles /opt/ansible/roles

USER apb
